# EPLab

Программное обеспечение для работы с устройствами линейки EyePoint, предназначенными для поиска неисправностей на печатных платах в ручном режиме (при помощи ручных щупов).

## Возможности

- Непрерывное измерение ВАХ с возможностью быстрой перестройки параметров измерителя.
- Сравнение ВАХ в реальном времени с двух каналов.
- Создание плана тестирования – файла с набором эталонных ВАХ, снятых для различных точек с заданными параметрами.
- Тестирование с использованием ранее созданного плана тестирования (с автоматической установкой параметров измерителя).
- Сохранение ВАХ в виде изображений.

## Запуск в Windows

1. Установите MSVC 2013 redistributable и MSVC 2015 redistributable (можно скачать по ссылкам https://www.microsoft.com/en-us/download/details.aspx?id=40784 и https://www.microsoft.com/ru-ru/download/details.aspx?id=48145).

2. Установите драйвер `ivm.inf` из папки `driver`.

3. Дважды кликните по `eplab.exe`. Также можно перейти в терминале в папку, в которой расположен исполняемый файл и выполнить команду:

   ```
   eplab.exe
   ```

## Подключение ВАХометров в Windows

По умолчанию при запуске к ПО не подключено ни одно устройство. Чтобы подключить к ПО ВАХометры, перейдите:

```
File -> Connection
```

В появившемся диалоговом окне `Connection setup` выберите необходимые ВАХометры и нажмите кнопку `Connect`.

Чтобы запустить приложение с уже подключенными к нему устройствами, в командной строке нужно выполнить команду:

```
eplab.exe <ivm_url> [--ref <ivm_url>]
```

ПО может работать как с одним, так и с двумя устройствами (второе устройство задавать не обязательно). `ivm_url`  - это адрес COM-порта. Также `ivm_url` может быть `virtual` (будет использоваться виртуальный измеритель). Пример запуска:

```
eplab.exe com:\\.\COM13 --ref virtual
```

## Запуск в Linux

1. Перед первым запуском обычно нужно прописать в системе VID и PID устройства для драйвера виртуального COM-порта. В Ubuntu это можно сделать так:

   ```
   sudo sh -c 'echo 1CBC 0007 > /sys/bus/usb/drivers/cdc_acm/new_id'
   ```

2. Для корректной работы ПО с COM-портами пользователь должен находиться в группе dealout. Если при открытии устройств возникают какие-то проблемы, попробуйте запустить ПО с правами root.

3. Дважды кликните по иконке файла `eplab`. Также можно перейти в терминале в папку, в которой расположен исполняемый файл и выполнить команду:

   ```
   ./eplab
   ```

   Если возникнет ошибка с правом доступа, предоставьте права на выполнение. Для этого в терминале нужно выполнить команду:

   ```
   chmod ugo+x eplab
   ```

## Подключение ВАХометров в Linux

По умолчанию при запуске к ПО не подключено ни одно устройство. Чтобы подключить к ПО ВАХометры, перейдите:

```
File -> Connection
```

В появившемся диалоговом окне `Connection setup` выберите необходимые ВАХометры и нажмите кнопку `Connect`.

Чтобы запустить приложение с уже подключенными к нему устройствами, в командной строке нужно выполнить команду:

```
./eplab <ivm_url> [--ref <ivm_url>]
```
ПО может работать как с одним, так и с двумя устройствами (второе устройство задавать не обязательно). `ivm_url`  - это адрес COM-порта. Также `ivm_url` может быть `virtual` (будет использоваться виртуальный измеритель). Пример запуска:

```
./eplab com:///dev/ttyACM0 --ref virtual
```

## Дополнительно

Для работы с сетевым ВАХометром АСА нужно запустить сервер версии 4.2.7.

